<div class="content-container" ng-controller="ContractController">
    <ul class="breadcrumb">
        <li><a href="#/organization">{{'label.anchor.masters' | translate}}</a></li>
        <li class="active">{{'label.contracts' | translate}}&nbsp;&nbsp;</li>
    </ul>
    <div class="card">
        <div class="content">
            <div class="toolbar">
	            <div class="row">
         			<div class="col-md-8">
         			<input data-ng-model="filterText" type="text" class="form-control" data-ng-autofocus="true" class="span marginbottom0px" placeholder="{{'placeholder.searchbar' | translate}}">
            		<!-- <input data-ng-model="filterText" type="text" class="form-control" data-ng-autofocus="true" class="span marginbottom0px" placeholder="{{'placehoder.searchbar' | translate}}"> -->
         			</div>
         			<div class="col-md-4">
            			<a href="#/createContract" class="btn primary_btn pull-right" has-permission='CREATE_CONTRACT'><i class="fa fa-plus"></i> {{ 'link.create.new.contract' | translate }}</a>
            			<!-- <a href="#/createservice" class="btn btn-primary pull-right" has-permission='CREATE_SERVICE'><i class="fa fa-plus "></i>{{'label.button.createservice' | translate }}</a> -->
	     			</div>
	     		</div>
            </div>
            <br/>
            <table class="table">
        		<thead>
            		<tr class="graybg">
                		 <th>{{ 'table.contract.period' | translate }}</th>
                		 <th>{{ 'table.contract.type' | translate }}</th>
                		 <th>{{ 'table.contract.unit' | translate }}</th>
                		 <th>{{ 'table.heading.actions' | translate }}</th>
            		</tr>
        		</thead>
        		<tbody>
            		<tr class="pointer-main" data-ng-repeat="contract in contracts | filter:filterText">
                		<td class="pointer"  data-ng-click="routeTo(contract.id)">{{contract.subscriptionPeriod}}</td>            
                		<td class="pointer"  data-ng-click="routeTo(contract.id)">{{contract.subscriptionType}}</td>        
                		<td class="pointer"  data-ng-click="routeTo(contract.id)">{{contract.units}}</td>
                		<td class="pointer">
                 			<a has-permission='UPDATE_CONTRACT' href="#/editcontract/{{contract.id}}"
                    		   uib-popover="Edit Contract" data-popover-trigger="mouseenter" class="fa fa-edit"></a>&nbsp;
	             			<!-- <a has-permission='DELETE_CONTRACT' data-ng-click="deleteContract(contract.id)"
	                		   uib-popover="Delete Contract" data-popover-trigger="mouseenter"><i class="fa fa-times"></i></a></td> -->         
            		</tr>
        		</tbody>
    		</table>
        </div>
    </div>
    <script type="text/ng-template" id="contract.html">
                    <div class="modal-header silver">
                        <h3 class="bolder">{{'label.delete.contract' | translate}}</h3>
                    </div>
                    <div class="modal-body" style="height:60px;">
                       <api-validate></api-validate>
                       <div class="form-group">
				           <div class="col-sm-3">
					           <label class="control-label" style="color:red;" ng-show="error.length>0">{{error | translate}}</label>
				           </div>	
			           </div>
                         <h4 align="center">{{'label.confirm.msg' | translate}}</h4>
                    </div>
                        <div class="col-md-offset-8">
                        <button class="btn" ng-click="cancel()">{{'button.cancel' | translate}}</button>
                        <button class="btn btn-primary" ng-click="approve()">{{'label.confirm' | translate}}</button>
                        </div>
                      </div>
                    
                 </div>
    </script>
</div>