<div class="content-container" ng-controller="AddressTreeviewController">
    <ul class="breadcrumb">
		<li><a href="#/organization">{{'label.anchor.masters' | translate}}</a></li>
		<li><a href="#/addressmanage">{{'label.manageaddresses' | translate}}</a></li>
		<li class="active">{{'label.countrylist' | translate}}</li>
	</ul>
    <div class="card">
    	<div class="content">
    		<div class="toolbar">
    			<h4>{{'label.heading.address' | translate}}</h4>
    		</div>
    		<br>
    		<div class="pull-right">
				<a  href="#/addressmanage" class="btn primary_btn"><i class="fa fa-list"></i>{{'label.listview' | translate}}</a>
				<button has-permission="CREATE_LOCATION" type="button" class="btn primary_btn" ng-click="addCountry()">
					<i class="fa fa-plus"></i>{{'label.addcountry' | translate}}</button>
			</div><br><br>
    		<div>
		 	<br>
				  	<div
						data-angular-treeview="true"
						data-tree-id="addresstreeview"
						data-tree-model="treedata"
						data-node-id="id"
						data-node-label="name"
						data-node-children="children" >
					</div>
			       <ul id="context1" class="dropdown-menu">
			            <li has-permission="CREATE_LOCATION"><a ng-click="addState()">Add State</a></li>
			            <li has-permission="UPDATE_LOCATION"><a ng-click="editCountry()">Edit Country</a></li>
			            <li has-permission="DELETE_LOCATION"><a ng-click="deleteCountry()">Delete Country</a></li>
			       </ul>
			        <ul id="context2" class="dropdown-menu">
			            <li has-permission="CREATE_LOCATION"><a ng-click="addCity()">Add City</a></li>
			            <li has-permission="UPDATE_LOCATION"><a ng-click="editState()">Edit State</a></li>
			            <li has-permission="DELETE_LOCATION"><a ng-click="deleteState()">Delete State</a></li>
			       </ul>
			        <ul id="context3" class="dropdown-menu">
			            <li has-permission="UPDATE_LOCATION"><a ng-click="editCity()">Edit City</a></li>
			            <li has-permission="DELETE_LOCATION"><a ng-click="deleteCity()">Delete City</a></li>
			       </ul>
		    </div>
    	</div>
    </div>
    <script type="text/ng-template" id="addCountry.html">
        <div class="modal-header silver">
          <h3 class="bolder">Add Country</h3>
        </div>
	 <form name="createcountryform" novalidate="" class="form-horizontal">
		<api-validate></api-validate>
        <div class="modal-body">
 		  <fieldset>
           	<div class="form-group">
				<label class="control-label col-sm-4" for="entityCode">Country Code<span class="required">*</span></label>
			 	<div class="col-sm-4">
              		<input  type="text" name="countryCode" id="countryCode" ng-model="formData.entityCode" class="form-control"
						placeholder="enter code here" data-ng-maxlength="{{'code' | CodeValidate}}"/><br>
					<span data-ng-show="createcountryform.countryCode.$dirty && createcountryform.countryCode.$invalid">
						<small class="error-row">{{'error.code.definition.length.validation'| translate}}</small>
					</span>
            	</div>
           	</div>
          	<div class="form-group">
            	 <label class="control-label col-sm-4" for="entityName">Country Name<span class="required">*</span></label>
			 	 <div class="col-sm-4">
              		<input type="text" name="countryName" id="countryName" class="form-control" ng-model="formData.entityName" placeholder="enter name here" /><br>
            	 </div>
	      	</div>
		  </fieldset>
        </div>
        <div class="modal-footer">
          <button id="cancel" class="btn btn-warning" ng-click="cancel()">{{'button.cancel' | translate}}</button>
     	  <button id="submit" ng-click="submit()" data-ng-disabled="createcountryform.$dirty && createcountryform.$invalid" class="btn btn-primary" >
				{{'label.confirm' | translate}}</button>
        </div>
	</form>
    </script>
    <script type="text/ng-template" id="editCountry.html">
        <div class="modal-header silver">
          <h3 class="bolder">Edit Country</h3>
        </div>
	<form name="editcountryform" novalidate="" class="form-horizontal">
		<api-validate></api-validate>
        <div class="modal-body" >
 		  <fieldset>
           	<div class="form-group">
				<label class="control-label col-sm-4" for="entityCode">Country Code<span class="required">*</span>:</label>
			 	<div class="col-sm-4">
              		<input  type="text" name="countryCode" id="countryCode" class="form-control" ng-model="formData.entityCode" placeholder="enter code here" 
							data-ng-maxlength="{{'code' | CodeValidate}}"/><br>
					<span data-ng-show="editcountryform.countryCode.$dirty && editcountryform.countryCode.$invalid">
						<small class ="error-row">{{'error.code.definition.length.validation'| translate}}</small>
					</span>
            	</div>
           	</div>
          	<div class="form-group">
            	 <label class="control-label col-sm-4" for="entityName">Country Name<span class="required">*</span>:</label>
			 	 <div class="col-sm-4">
              		<input  type="text" name="countryName" id="countryName" class="form-control" ng-model="formData.entityName" placeholder="enter name here" /><br>
            	 </div>
	      	</div>
		  </fieldset>
        </div>
        <div class="modal-footer">
          <button id="cancel" class="btn btn-warning" ng-click="cancel()">{{'button.cancel' | translate}}</button>
     	  <button id="submit" ng-click="submit()" data-ng-disabled="editcountryform.$dirty && editcountryform.$invalid" 
				class="btn btn-primary">{{'label.confirm' | translate}}</button>
        </div>
	</form>
    </script>
    <script type="text/ng-template" id="deleteCountry.html">
                    <div class="modal-header silver">
                        <h3 class="bolder">Delete Country</h3>
                    </div>
                    <div class="modal-body" style="height:60px;">
                       <h4>Are you sure?</h4>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-warning" ng-click="cancel()">{{'button.cancel' | translate}}</button>
                        <button class="btn btn-primary" ng-click="approveDeleteCountry()">{{'label.confirm' | translate}}</button>
                    </div>
      </script>
    
    <script type="text/ng-template" id="addState.html">
        <div class="modal-header silver">
          <h3 class="bolder">Add State</h3>
        </div>
	 <form name="createstateform" novalidate="" class="form-horizontal">
		<api-validate></api-validate>
        <div class="modal-body">
 		  <fieldset>
           	<div class="form-group">
				<label class="control-label col-sm-4" for="entityCode">State Code<span class="required">*</span></label>
			 	<div class="col-sm-4">
              		<input  type="text" name="stateCode" id="stateCode" ng-model="formData.entityCode" class="form-control"
						placeholder="enter code here" data-ng-maxlength="{{'code' | CodeValidate}}"/><br>
					<span data-ng-show="createstateform.stateCode.$dirty && createstateform.stateCode.$invalid">
						<small class="error-row">{{'error.code.definition.length.validation'| translate}}</small>
					</span>
            	</div>
           	</div>
          	<div class="form-group">
            	 <label class="control-label col-sm-4" for="entityName">State Name<span class="required">*</span></label>
			 	 <div class="col-sm-4">
              		<input  type="text" name="stateName" id="stateName" class="form-control" ng-model="formData.entityName" placeholder="enter name here" /><br>
            	 </div>
	      	</div>
			<div class="form-group">
				<label class="control-label col-sm-4" for="country">For This Country </label>
				<div class="col-sm-4">
             		 <input  type="text" class="form-control" ng-model="nodeName" readonly/>
             		
            	</div>
	   		</div>
		  </fieldset>
        </div>
        <div class="modal-footer">
          <button id="cancel" class="btn btn-warning" ng-click="cancel()">{{'button.cancel' | translate}}</button>
     	  <button id="submit" ng-click="submit()" data-ng-disabled="createstateform.$dirty && createstateform.$invalid" class="btn btn-primary" >
				{{'label.confirm' | translate}}</button>
        </div>
	</form>
    </script>
    <script type="text/ng-template" id="editState.html">
        <div class="modal-header silver">
          <h3 class="bolder">Edit State</h3>
        </div>
	<form name="editstateform" novalidate="" class="form-horizontal">
		<api-validate></api-validate>
        <div class="modal-body">
 		  <fieldset>
           	<div class="form-group">
				<label class="control-label col-sm-4" for="entityCode">State Code<span class="required">*</span>:</label>
			 	<div class="col-sm-4">
              		<input  type="text" name="stateCode" id="stateCode" ng-model="formData.entityCode" placeholder="enter code here" class="form-control"
						data-ng-maxlength="{{'code' | CodeValidate}}" /><br>
					<span data-ng-show="editstateform.stateCode.$dirty && editstateform.stateCode.$invalid">
						<small class="error-row">{{'error.code.definition.length.validation'| translate}}</small>
					</span>
            	</div>
           	</div>
          	<div class="form-group">
            	 <label class="control-label col-sm-4" for="entityName">State Name<span class="required">*</span>:</label>
			 	 <div class="col-sm-4">
              		<input  type="text" name="stateName" id="stateName" class="form-control" ng-model="formData.entityName" placeholder="enter name here" /><br>
            	 </div>
	      	</div>
		  </fieldset>
        </div>
        <div class="modal-footer">
          <button id="cancel" class="btn btn-warning" ng-click="cancel()">{{'button.cancel' | translate}}</button>
     	  <button id="submit" ng-click="submit()" data-ng-disabled="editstateform.$dirty && editstateform.$invalid" class="btn btn-primary" 
				ng-disabled="!editstateform.$valid">{{'label.confirm' | translate}}</button>
        </div>
	</form>
    </script>
    <script type="text/ng-template" id="deleteState.html">
                    <div class="modal-header silver">
                        <h3 class="bolder">Delete State</h3>
                    </div>
                    <div class="modal-body" modal-middle>
                       <h4>Are you sure?</h4>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-warning" ng-click="cancel()">{{'button.cancel' | translate}}</button>
                        <button class="btn btn-primary" ng-click="approveDeleteState()">{{'label.confirm' | translate}}</button>
                    </div>
     </script>
      
     <script type="text/ng-template" id="addCity.html">
        <div class="modal-header silver">
          <h3 class="bolder">Add City</h3>
        </div>
	<form name="createcityform" novalidate="" class="form-horizontal">
		<api-validate></api-validate>
        <div class="modal-body">
 		  <fieldset>
           	<div class="form-group">
				<label class="control-label col-sm-4" for="entityCode">City Code<span class="required">*</span>:</label>
			 	<div class="col-sm-4">
              		<input  type="text" name="cityCode" id="cityCode" ng-model="formData.entityCode" class="form-control"
						placeholder="enter code here" data-ng-maxlength="{{'code' | CodeValidate}}"/><br>
					<span data-ng-show="createcityform.cityCode.$dirty && createcityform.cityCode.$invalid">
						<small class="error-row">{{'error.code.definition.length.validation'| translate}}</small>
					</span>
            	</div>
           	</div>
          	<div class="form-group">
            	 <label class="control-label col-sm-4" for="entityName">City Name<span class="required">*</span>:</label>
			 	 <div class="col-sm-4">
              		<input  type="text" name="cityName" id="cityName" class="form-control" ng-model="formData.entityName" placeholder="enter name here" /><br>
            	 </div>
	      	</div>
			<div class="form-group">
				<label class="control-label col-sm-4" for="state">For This State :</label>
				<div class="col-sm-4">
             		 <input  type="text" class="form-control" ng-model="nodeName" readonly/>
            	</div>
	   		</div>
		  </fieldset>
        </div>
        <div class="modal-footer">
          <button id="cancel" class="btn btn-warning" ng-click="cancel()">{{'button.cancel' | translate}}</button>
     	  <button id="submit" ng-click="submit()" data-ng-disabled="createcityform.$dirty && createcityform.$invalid" class="btn btn-primary" >
			{{'label.confirm' | translate}}</button>
        </div>
	</form>
    </script>
        <script type="text/ng-template" id="editCity.html">
        <div class="modal-header silver">
          <h3 class="bolder">Edit City</h3>
        </div>
	<form name="editcityform" novalidate="" class="form-horizontal">
		<api-validate></api-validate>
        <div class="modal-body">
 		  <fieldset>
           	<div class="form-group">
				<label class="control-label col-sm-4">City Code<span class="required">*</span>:</label>
			 	<div class="col-sm-4">
              		<input  type="text" name="cityCode" id="cityCode" ng-model="formData.entityCode" placeholder="enter code here" class="form-control"
						data-ng-maxlength="{{'code' | CodeValidate}}" /><br>
					<span data-ng-show="editcityform.cityCode.$dirty && editcityform.cityCode.$invalid">
						<small class="error-row">{{'error.code.definition.length.validation'| translate}}</small>
					</span>
            	</div>
           	</div>
          	<div class="form-group">
            	 <label class="control-label col-sm-4" >City Name<span class="required">*</span>:</label>
			 	 <div class="col-sm-4">
              		<input  type="text" name="cityName" id="cityName" class="form-control" ng-model="formData.entityName" placeholder="enter name here" /><br>
            	 </div>
	      	</div>
		  </fieldset>
        </div>
        <div class="modal-footer">
          <button id="cancel" class="btn btn-warning" ng-click="cancel()">{{'button.cancel' | translate}}</button>
     	  <button id="submit" ng-click="submit()" data-ng-disable = "editcityform.$dirty && editcityform.$invalid" class="btn btn-primary" 
				ng-disabled="!editcityform.$valid">{{'label.confirm' | translate}}</button>
        </div>
	</form>
    </script>
    <script type="text/ng-template" id="deleteCity.html">
                    <div class="modal-header silver">
                        <h3 class="bolder">Delete City</h3>
                    </div>
                    <div class="modal-body" modal-middle>
                       <h4>Are you sure?</h4>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-warning" ng-click="cancel()">{{'button.cancel' | translate}}</button>
                        <button class="btn btn-primary" ng-click="approveDeleteCity()">{{'label.confirm' | translate}}</button>
                    </div>
      </script>
      <script type="text/ng-template" id="countryAlert.html">
					<div class="modal-header silver">
                        <h3 class="bolder">Warning</h3>
                    </div>
                    <div class="modal-body" modal-middle>
                       <i class="icon-warning-sign error"></i>Unable to delete <span style='color:blue;font-size:15px;'>
							<strong>"{{countryName}}"</strong></span>,it seems have some states.
                    </div>
                    <div class="modal-footer">
						<button class="btn btn-primary" ng-click="approve()">ok</button>
                    </div>
      </script>
     <script type="text/ng-template" id="stateAlert.html">
					<div class="modal-header silver">
                        <h3 class="bolder">Warning</h3>
                    </div>
                    <div class="modal-body" modal-middle>
                       <i class="icon-warning-sign error"></i>Unable to delete <span style='color:blue;font-size:15px;'>
							<strong>"{{stateName}}"</strong></span>,it seems have some cities. 
                    </div>
                    <div class="modal-footer">
						<button class="btn btn-primary" ng-click="approve()">ok</button>
                    </div>
      </script>
</div>

