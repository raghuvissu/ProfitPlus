<div class="content-container" ng-controller="CreateMessageController">
	<ul class="breadcrumb">
		<li>
			<a href="#/message">{{'label.managemessage' | translate}}</a> 
			<span class="divider"></span>
		</li>
		<li class="active">{{'label.createmessage' | translate}}</li>
	</ul>
	<div class="card">
		<div class="content">
			<div class="toolbar">
				<h4>{{'label.heading.createmessage' | translate}}</h4>
			</div>
			<br>
				<form name="createmessage" novalidate="" class="form-horizontal" rc-submit="submit()">
					<api-validate></api-validate>
					<div class="error" data-ng-show="errorStatus || errorDetails">
						<label data-ng-show="errorStatus">{{errorStatus}}</label>
						<label data-ng-hide="errorStatus" data-ng-repeat="error in errorDetails">{{error.code | translate}}</label>
				    </div>
				    <fieldset>
					    <div class="form-group">
						    <label class="control-label col-sm-2" for="messageType">{{ 'label.message.messageType' | translate }}</label>
						    <div class="col-sm-3">
								<select id="messageType" data-ng-model="formData.messageType" class="form-control" 
										data-ng-options="message.id as message.value for message in messageTypee">
							            <option value="">{{'label.select.one' | translate}}</option>       
							    </select>
							</div>
						</div>
					
						<div class="form-group">
						    <label class="control-label col-sm-2" for="templateDescription">{{'label.message.templateDescription' | translate}}</label>
							<div class="col-sm-3">
								<input type="text" id="templateDescription" class="form-control" data-ng-model="formData.templateDescription">
							</div>
						</div>
					
						<div class="form-group">
							<label class="control-label col-sm-2" for="subject"> {{ 'label.message.subject' | translate }}</label>
							<div class="col-sm-3">
								<input type="text" id="subject" class="form-control" data-ng-model="formData.subject">
							</div>
						</div>
					
						<div class="form-group" data-ng-hide="formData.messageType !='E'">
							<label class="control-label col-sm-2" for="header">{{'label.message.header' | translate}}</label>
							<div class="col-sm-3">
								<input type="text" id="header" class="form-control" data-ng-model="formData.header">
							</div>
						</div>
					
						<div class="form-group">
							<label class="control-label col-sm-2" for="body">{{ 'label.message.body' | translate }}</label>
							<div class="col-sm-3">
								<textarea data-ng-model="formData.body" class="form-control"></textarea>
							</div>
						</div>
					
						<div class="form-group" data-ng-hide="formData.messageType !='E'">
							<label class="control-label col-sm-2" for="footer">{{ 'label.message.footer' | translate }}</label>
							<div class="col-sm-3">
								<input type="text" id="footer" class="form-control" data-ng-model="formData.footer">
							</div>
						</div>
						
					    <table class="table">
							<tr class="form-group">
								<td>
									<h4><label class="control-label">{{ 'label.message.addMessageParams' | translate }}</label></h4>
								</td>
								<td class="blockquoteresult">
									<form>
										<input class="input-small" class="form-control" type="text" data-ng-model="messageFormData.parameter"> &nbsp;&nbsp;
											   <a data-ng-click="addMessage()">&nbsp;<i class="fa fa-plus"></i></a>&nbsp;&nbsp;
									</form> <br> <br>
									<table class="table" style="width:100%;" data-ng-show="formData.messageParams.length>0">
										<tr class="graybg">
											<th>{{ 'label.message.Parametervalue' | translate }}</th>
										</tr>
										<tr data-ng-repeat="messageFormDatas in formData.messageParams">
											<td><input type="text" class="input-small" data-ng-model="messageFormDatas.parameter"></td>
											<td><a data-ng-click="deleteMessageParam($index)"><i class="fa fa-times"></i></a></td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
						
					    <div class="col-md-offset-10">
	            			<a href="#/message"><button id="cancel" type="reset" class="btn">{{'button.cancel'| translate}}</button></a>
	            			<button id="submit" type="submit" class="btn btn-primary">{{'button.save'| translate}}</button>
          				</div> 
				    </fieldset>
				</form>
		</div>
	</div>
</div>